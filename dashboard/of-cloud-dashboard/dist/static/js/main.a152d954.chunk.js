(window["webpackJsonpof-cloud-dashboard"]=window["webpackJsonpof-cloud-dashboard"]||[]).push([[0],{51:function(e,t,a){e.exports=a(93)},56:function(e,t,a){},62:function(e,t,a){},83:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(16),l=a.n(o),r=(a(56),a(6)),i=a(7),s=a(9),u=a(8),m=a(10),d=a(97),h=a(98),p=a(45),f=a(11),g=a(95),v=a(96),E=a(99),b=a(3),y=a(4),O=a(43),w=a(5),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={isActive:!1},a.toggle=a.toggle.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({isActive:!this.state.isActive})}},{key:"isLoggedIn",value:function(){return"true"===window.SIGNED_IN}},{key:"createNavLink",value:function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(!t)return null;var r="/".concat(t),i=["py-3","px-3","px-md-2",n].filter((function(e){return e})).join(" ");return c.a.createElement(b.u,{active:e===r},c.a.createElement(b.v,{className:i,tag:g.a,to:r,exact:!0,onClick:l},o,a))}},{key:"render",value:function(){var e,t=this.props.history.location.pathname,a=Object(v.a)(t,{path:"/:user",strict:!1});return a&&a.params&&(e=a.params.user),c.a.createElement(b.w,{dark:!0,color:"openfaas",expand:"md",className:["background-openfaas-important","border-radius-bottom-5","navbar-inverse","p-0","overflow-hidden"].join(" ")},c.a.createElement(b.x,{href:"/",className:"font-size-0-important margin-0-important p-0 pl-2"},c.a.createElement("img",{alt:"OpenFaaS",src:"https://docs.openfaas.com/images/logo.svg"})),c.a.createElement("a",{href:"https://docs.openfaas.com/openfaas-cloud/intro",className:"color-white py-3 px-2"},"OpenFaaS Cloud"),c.a.createElement(b.y,{className:"mr-2",onClick:this.toggle}),c.a.createElement(b.j,{isOpen:this.state.isActive,navbar:!0},c.a.createElement(b.t,{navbar:!0},this.createNavLink(t,e,"Home"),c.a.createElement(b.u,null,c.a.createElement(b.v,{className:"py-3 px-3 px-md-2",href:"https://github.com/openfaas/openfaas-cloud"},c.a.createElement(y.a,{icon:O.a,className:"mr-1"}),"GitHub"))),c.a.createElement(b.t,{navbar:!0,className:"ml-auto"},this.isLoggedIn()&&this.createNavLink(t,"logout","Logout","",c.a.createElement(y.a,{icon:w.k,className:"mr-1"}),this.forceUpdate))))}}]),t}(n.Component),k=Object(E.a)(N),j=a(29),S=function(e){var t=e.fn,a=t.replicas,n=t.maxReplicas,o=n&&n.length&&parseInt(n,10)?n:20,l=Math.floor(a/o*100),r=null;return r=l<66?"success":66<=l&&l<90?"warning":"danger",c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement(b.z,{color:r,value:l,className:"flex-grow-1"}),c.a.createElement("div",{className:"flex-grow-0 flex-shrink-1 pl-2"},a,"/",o))},x=function(e){var t=e.onClick,a=e.fn,n=e.user,o=a.shortName,l=a.gitRepo,r=a.shortSha,i=a.gitPrivate,s=a.endpoint,u=a.sinceDuration,m=a.invocationCount,d=function(e){var t=e.gitRepoURL,a=e.gitBranch;return""===a?"".concat(t,"/commits/master"):"".concat(t,"/commits/").concat(a)}(a),h=function(e,t){var a=e.shortName,n=e.gitOwner,c=e.gitRepo,o=e.gitSha;return"".concat(t,"/").concat(a,"/log?repoPath=").concat(n,"/").concat(c,"&commitSHA=").concat(o)}(a,n),p=function(e,t){var a=e.shortName,n=e.gitOwner,c=e.gitRepo;return"/".concat(t,"/").concat(a,"?repoPath=").concat(n,"/").concat(c)}(a,n);return c.a.createElement("tr",{onClick:function(){return t(p)},className:"cursor-pointer"},c.a.createElement("td",null,o),c.a.createElement("td",null,c.a.createElement(b.d,{outline:!0,size:"xs",href:s,onClick:function(e){return e.stopPropagation()}},c.a.createElement(y.a,{icon:"link"}))),c.a.createElement("td",null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("a",{href:d,onClick:function(e){return e.stopPropagation()}},l),i&&c.a.createElement(y.a,{icon:w.m}))),c.a.createElement("td",null,r),c.a.createElement("td",null,u),c.a.createElement("td",null,m),c.a.createElement("td",null,c.a.createElement(S,{fn:a})),c.a.createElement("td",null,c.a.createElement(b.d,{outline:!0,size:"xs",to:h,onClick:function(e){return e.stopPropagation()},tag:j.a},c.a.createElement(y.a,{icon:"folder-open"}))))};a(62);var C=Object(E.a)((function(e){var t=e.isLoading,a=e.fns,n=e.user,o=e.history,l=t?c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"8",style:{textAlign:"center"}},c.a.createElement(y.a,{icon:"spinner",spin:!0}))):function(e,t,a){return 0===e.length?c.a.createElement("tr",null,c.a.createElement("td",null,"No functions available.")):e.map((function(e){return c.a.createElement(x,{key:e.shortSha,fn:e,user:t,onClick:a})}))}(a,n,(function(e){return o.push(e)})),r={responsive:!0,className:"function-table"};return a&&a.length>0&&(r.hover=!0),c.a.createElement(b.B,r,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",{style:{width:"42px"}}),c.a.createElement("th",null,"Repository"),c.a.createElement("th",null,"SHA"),c.a.createElement("th",null,"Deployed"),c.a.createElement("th",null,"Invocations"),c.a.createElement("th",null,"Replicas"),c.a.createElement("th",null))),c.a.createElement("tbody",{id:"items"},l))})),M=a(30),F=a.n(M),R=a(48),P=a(23),L=a.n(P),I=a(49),B=a.n(I),A=new(function(){function e(){Object(r.a)(this,e),this.selectedRepo="",this.prettyDomain=window.PRETTY_URL,this.queryPrettyUrl="true"===window.QUERY_PRETTY_URL,this.baseURL=window.PUBLIC_URL,this.apiBaseUrl="".concat(window.BASE_HREF,"api"),this.cachedFunctions={}}return Object(i.a)(e,[{key:"parseFunctionResponse",value:function(e,t){var a=this,n=e.data,c=t.toLowerCase();n.sort((function(e,t){return e&&t&&e.labels["com.openfaas.cloud.git-deploytime"]&&t.labels["com.openfaas.cloud.git-deploytime"]?parseInt(t.labels["com.openfaas.cloud.git-deploytime"],10)-parseInt(e.labels["com.openfaas.cloud.git-deploytime"],10):0}));var o=new RegExp("^".concat(c,"-"));return n.map((function(e){var t,n=new Date(1e3*parseInt(e.labels["com.openfaas.cloud.git-deploytime"],10)),l=B()(n).fromNow(),r=e.name.replace(o,"");t=a.queryPrettyUrl?a.prettyDomain.replace("user",c).replace("function",r):a.baseURL+"/function/"+e.name;var i=e.labels["com.openfaas.cloud.git-sha"];i=i?i.substr(0,7):"unknown";var s,u=!1;return e.labels["com.openfaas.cloud.git-private"]&&"1"===e.labels["com.openfaas.cloud.git-private"]&&(u=!0),{name:e.name,image:e.image,shortName:r,endpoint:t,shortSha:i,sinceDuration:l,invocationCount:e.invocationCount,replicas:e.replicas,gitRepo:e.labels["com.openfaas.cloud.git-repo"],gitOwner:e.labels["com.openfaas.cloud.git-owner"],gitDeployTime:e.labels["com.openfaas.cloud.git-deploytime"],gitPrivate:u,gitSha:e.labels["com.openfaas.cloud.git-sha"],gitBranch:e.labels["com.openfaas.cloud.git-branch"],gitRepoURL:(s=e.annotations||{},s["com.openfaas.cloud.git-repo-url"]||""),minReplicas:e.labels["com.openfaas.scale.min"],maxReplicas:e.labels["com.openfaas.scale.max"]}}))}},{key:"fetchFunctions",value:function(e){var t=this,a="".concat(this.apiBaseUrl,"/list-functions?user=").concat(e);return L.a.get(a).then((function(a){return t.parseFunctionResponse(a,e)})).then((function(a){return t.cachedFunctions=a.reduce((function(t,a){return t["".concat(e,"/").concat(a.gitOwner,"/").concat(a.gitRepo,"/").concat(a.shortName)]=a,t}),{}),a}))}},{key:"fetchFunction",value:function(e,t,a){var n=this;return new Promise((function(c,o){var l="".concat(e,"/").concat(t,"/").concat(a),r=n.cachedFunctions[l];r?c(r):n.fetchFunctions(e).then((function(){var e=n.cachedFunctions[l];void 0!==e?c(e):o(new Error("Function ".concat(l," not found")))}))}))}},{key:"fetchFunctionInvocation",value:function(){var e=Object(R.a)(F.a.mark((function e(t){var a,n,c,o,l;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,n=t.functionName,c=t.timePeriod,e.prev=1,o="".concat(this.apiBaseUrl,"/system-metrics?function=").concat(a.toLowerCase(),"-").concat(n,"&metrics_window=").concat(c),e.next=5,L.a.get(o);case 5:return l=e.sent,e.abrupt("return",l.data);case 9:return e.prev=9,e.t0=e.catch(1),console.error("Error fetching function invocation",t,e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFunctionLog",value:function(e){var t=e.commitSHA,a=e.repoPath,n=e.functionName,c="".concat(this.apiBaseUrl,"/pipeline-log?commitSHA=").concat(t,"&repoPath=").concat(a,"&function=").concat(n);return L.a.get(c).then((function(e){return e.data}))}}]),e}()),D=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n=e.match.params.user;return a.state={isLoading:!0,fns:[],user:n},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),A.fetchFunctions(this.state.user).then((function(t){e.setState({isLoading:!1,fns:t})}))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoading,n=e.fns;return c.a.createElement(b.e,{outline:!0,color:"success"},c.a.createElement(b.g,{className:"bg-success color-success"},"Functions for ",c.a.createElement("span",{id:"username"},t)),c.a.createElement(b.f,null,c.a.createElement(b.h,null,"Welcome to the OpenFaaS Cloud Dashboard! Click on a function for more details."),c.a.createElement(C,{isLoading:a,fns:n,user:t})))}}]),t}(n.Component),T=a(18),U=a.n(T),H=(a(83),{"1hr":"60m","24hr":"1440m"}),z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={selected:"1hr"},a.navLinkClickHandle=function(e){a.setState({selected:e}),a.props.changeFunctionInvocationTimePeriod(H[e])},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.functionInvocationData,a=t.success,n=t.failure,o=Object.keys(H).map((function(t){return c.a.createElement(b.v,{key:t,href:"#",active:t===e.state.selected,onClick:function(){return e.navLinkClickHandle(t)}},t)})),l=a+n,r=a/l*100,i=n/l*100;return c.a.createElement("div",{className:""},c.a.createElement(b.t,{className:"d-flex justify-content-center"},c.a.createElement("span",{className:"d-flex align-items-center mr-4 font-weight-bold"},"Period:"),o),c.a.createElement("div",null,c.a.createElement(b.z,{multi:!0,className:"mt-3 d-flex justify-content-center"},c.a.createElement(b.z,{bar:!0,color:"success",value:r}),c.a.createElement(b.z,{bar:!0,color:"danger",value:i})),c.a.createElement("span",{className:"font-weight-bold"},l)," invocations"),c.a.createElement("div",{className:"mt-3 mx-1 row flex-row border"},c.a.createElement("div",{className:"d-flex col-6 flex-column align-items-center border-right p-2"},c.a.createElement("h5",{className:"mt-1"},c.a.createElement(b.a,{color:"success"},a)),c.a.createElement("span",null,"Success")),c.a.createElement("div",{className:"d-flex col-6 flex-column align-items-center p-2"},c.a.createElement("h5",{className:"mt-1"},c.a.createElement(b.a,{color:"danger"},n)),c.a.createElement("span",null,"Error"))))}}]),t}(c.a.Component),_=function(e){var t=e.children,a=e.headerText,n=e.headerIcon,o=e.button,l=e.className,r=e.bodyClassName;return c.a.createElement(b.e,{className:"height-100 ".concat(l)},c.a.createElement(b.g,{tag:"h6",className:"flex align-items-center justify-content-space-between min-height-49"},c.a.createElement("span",null,n,a),o),c.a.createElement(b.f,{className:r},t))},G=function(e){return e>=12||e<=0?e:12-e};_.MetaList=function(e){var t=e.list,a=e.sizes,n=a;return void 0===a&&(n={xs:12,sm:3,md:2,lg:4,xl:3}),c.a.createElement("div",null,t.map((function(e){var t=e.label,a=e.value,o=e.renderValue,l=n,r=l.xs,i=l.sm,s=l.md,u=l.lg,m=l.xl;return c.a.createElement(b.A,{noGutters:!0,key:t,className:"py-1"},c.a.createElement(b.i,{xs:r,sm:i,md:s,lg:u,xl:m,className:"is-bold"},t),c.a.createElement(b.i,{xs:G(r),sm:G(i),md:G(s),lg:G(u),xl:G(m),className:"pl-xl-2"},"function"===typeof o?o():a))})))},_.defaultProps={button:null};var V=function(e){var t=e.split(":")[0].split("/");return 2===t.length?c.a.createElement("a",{href:"https://hub.docker.com/r/".concat(t[0],"/").concat(t[1],"/tags"),target:"_blank"},e):e},q=function(e){var t=e.changeFunctionInvocationTimePeriod,a=e.fn,n=e.functionInvocationData,o=e.handleShowBadgeModal,l=e.handleShowRunOnMyOFModal;console.log("functionInvocation",n);var r="".concat(a.shortName,"/log?repoPath=").concat(a.gitOwner,"/").concat(a.gitRepo,"&commitSHA=").concat(a.gitSha),i="".concat(a.gitOwner,"/").concat(a.gitRepo),s=[{label:"Name:",renderValue:function(){return c.a.createElement("div",{className:"d-flex align-items-start"},c.a.createElement("div",null,a.shortName),c.a.createElement("div",{className:"ml-auto"},c.a.createElement(b.d,{outline:!0,size:"xs",title:"Run on my OpenFaaS",onClick:l},c.a.createElement(y.a,{icon:w.c}))))}},{label:"Image:",value:V(a.image)},{label:"Endpoint:",renderValue:function(){return c.a.createElement("a",{href:a.endpoint,target:"_blank"},a.endpoint)}},{label:"Replicas:",renderValue:function(){return c.a.createElement(S,{fn:a,className:""})}}],u=[{label:"Repository:",renderValue:function(){return c.a.createElement("a",{href:"https://github.com/".concat(i),target:"_blank"},i)}},{label:"SHA:",renderValue:function(){return c.a.createElement("a",{href:"".concat(a.gitRepoURL,"/commit/").concat(a.gitSha),target:"_blank"},a.gitSha)}},{label:"Deploy Time:",value:a.sinceDuration}],m=c.a.createElement(y.a,{icon:"info-circle",className:"mr-3"}),d=c.a.createElement("span",null,c.a.createElement(y.a,{icon:"code-branch",className:"mr-3"}),a.gitPrivate&&c.a.createElement(y.a,{icon:w.m,className:"mr-3"})),h=c.a.createElement(y.a,{icon:"bolt",className:"mr-3 mr-lg-2 d-inline-block d-lg-none d-xl-inline-block"}),p=c.a.createElement(b.d,{outline:!0,color:"secondary",size:"xs",tag:j.a,to:r},c.a.createElement(y.a,{icon:"folder-open",className:"mr-2"}),c.a.createElement("span",null,"Build Logs")),f=c.a.createElement(b.d,{outline:!0,color:"secondary",size:"xs",onClick:o},c.a.createElement(y.a,{icon:w.a,className:"mr-2"}),c.a.createElement("span",null,"Get Badge"));return c.a.createElement("div",{className:"FunctionDetailSummary fn-detail-summary row"},c.a.createElement("div",{className:"col-lg-4 pb-3 pb-lg-0"},c.a.createElement(_,{headerText:"Deployment",headerIcon:m,button:p},c.a.createElement(_.MetaList,{list:s}))),c.a.createElement("div",{className:"col-lg-4 pb-3 pb-lg-0"},c.a.createElement(_,{headerText:"Git",headerIcon:d,button:f},c.a.createElement(_.MetaList,{list:u,sizes:{xs:12,sm:3,md:2,lg:5,xl:4}}))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(_,{headerText:"Invocations",headerIcon:h},n?c.a.createElement(z,{functionInvocationData:n,changeFunctionInvocationTimePeriod:t}):c.a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},c.a.createElement(y.a,{icon:"spinner",spin:!0})))))},Y="https://img.shields.io/badge/openfaas-cloud-blue.svg",J="[![OpenFaaS](".concat(Y,")](").concat("https://www.openfaas.com",")"),W=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={valid:!1},e.handleCopyClick=e.handleCopyClick.bind(Object(f.a)(e)),e.closeModal=e.closeModal.bind(Object(f.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleCopyClick",value:function(e){var t=this;e.preventDefault(),this.input.select(),document.execCommand("copy"),this.setState({valid:!0},(function(){setTimeout((function(){t.setState({valid:!1})}),1500)}))}},{key:"closeModal",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e=this;return c.a.createElement(b.q,{isOpen:this.props.state,toggle:this.props.closeModal,className:this.props.className},c.a.createElement(b.s,{toggle:this.props.closeModal},"Get Badge"),c.a.createElement(b.r,null,c.a.createElement("p",null,"Add the following markdown snippet to your README.md in your Git repo to show you are using OpenFaaS Cloud."),c.a.createElement("p",null,c.a.createElement("a",{href:"https://www.openfaas.com"},c.a.createElement("img",{src:Y,alt:"Powered by OpenFaaS \xae Cloud"}))),c.a.createElement(b.l,null,c.a.createElement(b.o,null,c.a.createElement(b.n,{readOnly:!0,innerRef:function(t){e.input=t},type:"text",valid:this.state.valid,value:J}),c.a.createElement(b.p,{addonType:"append"},c.a.createElement(b.d,{onClick:this.handleCopyClick,className:"radius-right-5"},c.a.createElement("span",null,"Copy"),c.a.createElement(y.a,{className:"ml-2",icon:w.e}))),c.a.createElement(b.m,{valid:!0,tooltip:!0},"Link copied")))))}}]),t}(n.Component),$=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={valid:!1},e.handleCopyClick=e.handleCopyClick.bind(Object(f.a)(e)),e.closeModal=e.closeModal.bind(Object(f.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleCopyClick",value:function(e){var t=this;e.preventDefault(),this.input.select(),document.execCommand("copy"),this.setState({valid:!0},(function(){setTimeout((function(){t.setState({valid:!1})}),1500)}))}},{key:"closeModal",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e=this,t=this.props.fn,a=t.shortName,n=t.image,o=t.gitOwner,l="{\nmkdir -p /tmp/openfaas-cloud/".concat(o,"/").concat(a,"/\ncd /tmp/openfaas-cloud/").concat(o,"/").concat(a,"/\n\ncat > stack.yml <<EOF\nprovider:\n  name: faas\n  gateway: http://127.0.0.1:8080\n\nfunctions:\n  ").concat(a,":\n    skip_build: true\n    image: ").concat(n,"\nEOF\n\nfaas-cli deploy\n}");return c.a.createElement(b.q,{isOpen:this.props.state,toggle:this.props.closeModal,className:this.props.className},c.a.createElement(b.s,{toggle:this.props.closeModal},"Run on my ",c.a.createElement("strong",null,"OpenFaaS")),c.a.createElement(b.r,null,c.a.createElement("p",null,"To run this function on your local ",c.a.createElement("strong",null,"OpenFaaS")," cluster copy and paste the below into a bash terminal."),c.a.createElement(b.l,null,c.a.createElement(b.A,{noGutters:!0,className:"align-items-end"},c.a.createElement(b.i,null,c.a.createElement(b.n,{readOnly:!0,className:"text-monospace",innerRef:function(t){e.input=t},type:"textarea",valid:this.state.valid,value:l,bsSize:"sm",rows:"8"}),c.a.createElement(b.m,{valid:!0,tooltip:!0},"Copied to clipboard")),c.a.createElement(b.i,{className:"col-auto position-relative"},c.a.createElement(b.d,{onClick:this.handleCopyClick,className:"radius-right-5 ml-2"},c.a.createElement("span",null,"Copy"),c.a.createElement(y.a,{className:"ml-2",icon:w.e})))))))}}]),t}(n.Component);$.defaultProps={fn:{}};var Q=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeFunctionInvocationTimePeriod=function(e){var t=a.state,n=t.user,c=t.functionName;A.fetchFunctionInvocation({user:n,functionName:c,timePeriod:e}).then((function(e){a.setState({functionInvocationData:e})}))};var n=U.a.parse(e.location.search).repoPath,c=e.match.params,o=c.user,l=c.functionName;return a.handleShowBadgeModal=a.handleShowBadgeModal.bind(Object(f.a)(a)),a.handleCloseBadgeModal=a.handleCloseBadgeModal.bind(Object(f.a)(a)),a.handleShowRunOnMyOFModal=a.handleShowRunOnMyOFModal.bind(Object(f.a)(a)),a.handleCloseRunOnMyOFModal=a.handleCloseRunOnMyOFModal.bind(Object(f.a)(a)),a.state={isLoading:!0,fn:null,functionInvocationData:null,user:o,repoPath:n,functionName:l,showBadgeModal:!1,showRunOnMyOFModal:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.user,n=t.repoPath,c=t.functionName;this.setState({isLoading:!0}),A.fetchFunction(a,n,c).then((function(t){e.setState({isLoading:!1,fn:t})})),this.changeFunctionInvocationTimePeriod("60m")}},{key:"handleShowBadgeModal",value:function(){this.setState({showBadgeModal:!0})}},{key:"handleCloseBadgeModal",value:function(){this.setState({showBadgeModal:!1})}},{key:"handleShowRunOnMyOFModal",value:function(){this.setState({showRunOnMyOFModal:!0})}},{key:"handleCloseRunOnMyOFModal",value:function(){this.setState({showRunOnMyOFModal:!1})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.fn,n=e.functionInvocationData,o=c.a.createElement(q,{fn:a,changeFunctionInvocationTimePeriod:this.changeFunctionInvocationTimePeriod,functionInvocationData:n,handleShowBadgeModal:this.handleShowBadgeModal,handleShowRunOnMyOFModal:this.handleShowRunOnMyOFModal});return t&&(o=c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(y.a,{icon:"spinner",spin:!0})," ")),c.a.createElement(b.e,{outline:!0,color:"success"},c.a.createElement(b.g,{className:"bg-success color-success d-flex align-items-center justify-content-between"},c.a.createElement("div",null,"Function Overview")),c.a.createElement(b.f,null,o),c.a.createElement(W,{state:this.state.showBadgeModal,closeModal:this.handleCloseBadgeModal}),c.a.createElement($,{fn:a||{},state:this.state.showRunOnMyOFModal,closeModal:this.handleCloseRunOnMyOFModal}))}}]),t}(n.Component),K=a(50),X=a.n(K),Z=(a(89),a(90),function(e){e.scrollToLine(e.getSession().getLength()),e.navigateLineEnd()}),ee=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n=U.a.parse(e.location.search),c=n.commitSHA,o=n.repoPath,l=e.match.params.functionName;return a.state={isLoading:!0,log:"",commitSHA:c,repoPath:o,functionName:l},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.commitSHA,n=t.repoPath,c=t.functionName;this.setState({isLoading:!0}),A.fetchFunctionLog({commitSHA:a,repoPath:n,functionName:c}).then((function(t){e.setState({isLoading:!1,log:t})}))}},{key:"render",value:function(){var e=this.state,t=e.commitSHA,a=e.repoPath,n=e.functionName,o=e.log,l=e.isLoading,r={width:"100%",height:"600px",mode:"sh",theme:"monokai",readOnly:!0,onLoad:Z,wrapEnabled:!0,showPrintMargin:!1,editorProps:{$blockScrolling:!0}},i=c.a.createElement(X.a,Object.assign({},r,{value:o}));return!0===l&&(i=c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(y.a,{icon:"spinner",spin:!0})," ")),c.a.createElement(b.e,{outline:!0,color:"success"},c.a.createElement(b.g,{className:"bg-success color-success"},"Build logs from ",n," @ ",t," - (",a,")"),c.a.createElement(b.f,null,i))}}]),t}(n.Component),te=function(){return c.a.createElement("div",null,"Page Not Found")},ae=function(e){function t(e){var a;Object(r.a)(this,t);var n=(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).pathToParts(e.location.pathname,e.location.search);return a.state={parts:n},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"pathToParts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.replace(/\/$/,"").split("/").slice(1);return a.reduce((function(e,a,n){var c;c=0===n?"":e[e.length-1].path;var o=U.a.parse(t),l="";return 1===n&&(l="?repoPath=".concat(o.repoPath)),e.push({name:a,path:"".concat(c,"/").concat(a).concat(l)}),e}),[])}},{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen((function(t){var a=e.pathToParts(t.pathname,t.search);e.setState({parts:a})}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this.state.parts,t=e.map((function(t,a){var n=t.path,o=t.name,l={},r=c.a.createElement(g.a,{to:n},o);return a===e.length-1&&(l.active=!0,r=o),c.a.createElement(b.c,Object.assign({key:"".concat(o).concat(a)},l),r)}));return c.a.createElement(b.b,{listClassName:"background-color-inherit-important m-0"},t)}}]),t}(n.Component),ne=Object(E.a)(ae),ce=function(){return c.a.createElement(b.k,{className:"padding-12-0"},c.a.createElement(b.A,null,c.a.createElement(b.i,null,"Powered by ",c.a.createElement("a",{href:"https://www.openfaas.com"},"OpenFaaS"))))},oe=(a(91),a(92),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=window.BASE_HREF;return c.a.createElement(d.a,{basename:e},c.a.createElement("div",{className:"container"},c.a.createElement(k,null),c.a.createElement(ne,null),c.a.createElement("div",null,c.a.createElement(h.a,null,c.a.createElement(p.a,{exact:!0,path:"/:user",component:D}),c.a.createElement(p.a,{exact:!0,path:"/:user/:functionName",component:Q}),c.a.createElement(p.a,{path:"/:user/:functionName/log",component:ee}),c.a.createElement(p.a,{component:te}))),c.a.createElement(ce,null)))}}]),t}(n.Component));a(20).b.add(w.g,w.i,w.l,w.h,w.d,w.b,w.f,w.j),l.a.render(c.a.createElement(oe,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.a152d954.chunk.js.map